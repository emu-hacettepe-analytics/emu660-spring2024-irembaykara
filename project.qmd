---
title: "Uluslararası Göç İstatistikleri Analizi"

format:
  html:
    code-fold: true
    code-summary: "Kod:"
---

# [1. Amaç ve Kapsam]{style="color:darkblue"} ![](images/clipboard-3134960358.png){width="23" height="23"}

Bu proje ile Türkiye’nin maruz kaldığı uluslararası göç hareketliliğinin büyüklük ve nitelik açısından analiz edilmesi amaçlanmaktadır.


# [2. Veri]{style="color:darkblue"} ![](images/clipboard-442643652.png){width="23" height="23"}

Analiz için 2022 yılına ait;

-   Yaş grubu ve cinsiyete göre Türkiye'ye gelen ve Türkiye'den giden göç nüfus sayısı,

-   Türkiye’de vatandaşlık ülkesine göre yabancı uyruklu nüfus,

-   İllere göre Türkiye'ye gelen ve Türkiye'den giden göç nüfus sayısı,

-   Vatandaşlık ülkesine göre Türkiye'ye gelen ve Türkiye'den giden göç nüfus sayısı verilerinden yararlanılacaktır.

## [*2.1. Veri Kaynağı*]{style="color:brown"}

\[Türkiye İstatistik Kurumu Uluslararası Göç İstistikleri\] (https://data.tuik.gov.tr/Bulten/Index?p=Uluslararasi-Goc-Istatistikleri-2022-49457)

## [*2.2. Veriye Bakış*]{style="color:brown"}




# [3. Analiz]{style="color:darkblue"} ![](images/clipboard-355426313.png){width="23"} {width="23" height="23"}

Uluslararası göç hareketliliğinin yaş grubu ve cinsiyet arasındaki farklar ortaya konacaktır.

Türkiye'den en çok gidilen ve Türkiye'den en çok göç alınan ülkeler belirlenecektir.

İl bazında göç hareketliliği tespit edilecektir.

Türkiye'deki yabancı uyruklu nufüs sayısı belirlenerek ülkelere göre sıralanacaktır.

Ülkemize yapılan giriş ve çıkışlar belirlenecektir.

## *3.1 Veri Analizi* {style="color:brown"}

a) Yurt dışından en çok göç alan ve yurt dışına en çok göç veren şehirler;

```{r}
library(ggplot2)
library(readxl)

data <- read_xls("C:/Users/irem.baykara/Documents/GitHub/emu660-spring2024-irembaykara/il.xls")

# Göç veren şehirleri belirleme
top_10_veren <- data[order(-data$giden),][1:10,]
ggplot(top_10_veren, aes(x = reorder(iller, -giden), y = giden)) +
  geom_bar(stat = "identity", fill = "skyblue") +
   coord_flip() + 
  labs(title = "En Çok Göç Veren İlk 10 Şehir", x = "Şehirler", y = "Gelen Kişi Sayısı") +
  theme_minimal()

# Göç alan şehirleri belirleme
top_10_gelen <- data[order(-data$gelen),][1:10,]
ggplot(top_10_gelen, aes(x = reorder(iller, gelen), y = gelen)) + 
  geom_bar(stat = "identity", fill = "skyblue") + 
  coord_flip() + 
  labs(title = "En Çok Göç Alan İlk 10 Şehir", x = "Şehirler", y = "Gelen Kişi Sayısı") +
  theme_minimal()

```

b) En çok göç alan ve en çok göç veren ülkeler;


```{r}
library(ggplot2)
library(readxl)

data <- read_xls("C:/Users/irem.baykara/Documents/GitHub/emu660-spring2024-irembaykara/vatandaslik.xls")

#en çok göç alan ilk 10 ülke
top_10_gelen <- data[order(-data$gelen), ][1:10, ]

ggplot(top_10_gelen, aes(x = reorder(vatandaslik_ulkesi, -gelen), y = gelen)) +
  geom_bar(stat = "identity", fill = "lightgreen") +  ggtitle("İlk 10 Ülke: Göç Alan") +
  xlab("Ülke") +
  ylab("Gelen Göç Sayısı") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) 


# en çok göç alan ilk 10 ülke
top_10_giden <- data[order(-data$giden), ][1:10, ]

ggplot(top_10_giden, aes(x = reorder(vatandaslik_ulkesi, -giden), y = giden)) +
  geom_bar(stat = "identity", fill = "lightgreen") +  ggtitle("İlk 10 Ülke: Göç Edilen") +
  xlab("Ülke") +
  ylab("Giden Göç Sayısı") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```

c) Türkiye'deki Yabancı Uyruk Nüfusu:

```{r}
#çoğalttttttt
library(ggplot2)
library(tibble)
library(readxl)
data <- read_xls("C:/Users/irem.baykara/Documents/GitHub/emu660-spring2024-irembaykara/yabanci_nufus.xls")

top_10 <- data[order(-data$yabanci_uyruklu_nufus),][1:10,]

ggplot(top_10, aes(x = reorder(vatandaslik_ulkesi, -yabanci_uyruklu_nufus), y = yabanci_uyruklu_nufus, fill = vatandaslik_ulkesi)) +
  geom_bar(stat = "identity") +
  labs(title = "İlk 10 Yabancı Nüfus", x = "Vatandaşlık Ülkesi", y = "Yabancı Uyruklu Nüfus") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  scale_fill_brewer(palette = "Set3")


```


c) Yıllara Göre Yakalanan Düzensiz Göçmenlerin Dağılımı:


```{r}
library(tidyverse)
library(tsibble)
library(fable)
library(ggplot2)
library(readxl)
library(forecast) 
kacak <- read_xlsx("C:/Users/irem.baykara/Documents/GitHub/emu660-spring2024-irembaykara/kacak.xlsx")

data_long <- kacak %>%
  pivot_longer(-ulke, names_to = "year", values_to = "value") %>%
  mutate(year = as.integer(year))

forecast_data <- data.frame()


for (country in unique(data_long$ulke)) {

  country_data <- data_long %>% filter(ulke == country)
  

  ts_data <- ts(country_data$value, start = min(country_data$year), frequency = 1)
  
  fit <- auto.arima(ts_data)
  
  forecast_values <- forecast(fit, h = 5)
  forecast_df <- data.frame(
    ulke = country,
    year = (max(country_data$year) + 1):(max(country_data$year) + 5),
    value = as.numeric(forecast_values$mean)
  )
  
  forecast_data <- bind_rows(forecast_data, forecast_df)
}

combined_data <- bind_rows(data_long, forecast_data)
ggplot(combined_data, aes(x = year, y = value, color = ulke)) +
  geom_line(size = 1, linetype = "solid") +
  labs(title = "Ülkelerin Yıllık Nüfus Tahminleri",
       x = "Yıl",
       y = "Nüfus") +
  theme_minimal()

```
```{r}

```


d) Kadınlarda En Çok Göç Eden Yaş Aralığı: 

```{r}

```
İllere göre eğitim düzeyi ve göç arasında ilişki var mı?


```{r}
library(dplyr)
library(readxl)
library(ggplot2)
illeregoreegitim <- read_xlsx("C:/Users/irem.baykara/Documents/GitHub/emu660-spring2024-irembaykara/illeregoreegitim.xlsx")

model <- lm(yuksekokul ~ giden, data = illeregoreegitim)
summary(model)
ggplot(illeregoreegitim, aes(x = giden, y = yuksekokul)) +
  geom_point(color = "navy") +                  
  geom_smooth(method = "lm", col = "darkred") +      
  labs(title = "Göç ile Yüksekokul Üstü Eğitim Düzeyi Arasındaki İlişki",
       x = "Göç Sayısı",
       y = "Yüksekokul Üstü Eğitim Düzeyi") +
  theme_minimal()                       

```


## *3.2. Sonuçlar* {style="color:brown"}

xxxxxx

# [4. Sonuç ve Çıkarımlar]{style="color:darkblue"} ![](images/clipboard-1698656164.png){width="35"} {width="23" height="23"}

xxxxxx
